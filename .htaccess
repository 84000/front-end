# Allow subdomain access
SetEnvIf Origin ^(https?://(?:.+\.)?(84000\.co|84000-translate\.org|84000\.local|trans84000stg\.wpengine\.com)(?::\d{1,5})?)$   CORS_ALLOW_ORIGIN=$1
Header append Access-Control-Allow-Origin  %{CORS_ALLOW_ORIGIN}e   env=CORS_ALLOW_ORIGIN
Header merge  Vary "Origin"

<IfModule mod_mime.c>
	AddType text/html .html
	AddType application/javascript .js
	AddType text/css .css
	AddType font/ttf .ttf
	AddType image/png .png
</IfModule>

<IfModule mod_deflate.c>
	AddOutputFilterByType DEFLATE text/html text/css application/javascript font/ttf image/png
	<IfModule mod_setenvif.c>
		BrowserMatch ^Mozilla/4 gzip-only-text/html
		BrowserMatch ^Mozilla/4.0[678] no-gzip
		BrowserMatch bMSIE !no-gzip !gzip-only-text/html
	</IfModule>
</IfModule>

RewriteEngine on

RewriteRule ^(wp-content/uploads/.*) http://trans84000.staging.wpengine.com/$1 [NC,L]
